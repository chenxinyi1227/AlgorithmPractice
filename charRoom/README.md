# chatRoom
## 预定的下一步方向
ps：因为写不出代码，就先整理下思路

### 添加私聊
#### main中
    数据库新建在线列表(可以考虑用一个变量来代替，但可能有些浪费内存)
    mainKey int     name char(20)   句柄 int  在线状态 int (0/1)
    数据库新建一个消息列表
    Key int     from_name char(20)  to_name char(20)    消息(1024)

    接收数据，如果类别是私聊，则跳转到私聊函数
#### 登录函数中
    判定成功后检测在线列表，若在线状态为1，获取句柄,向此句柄发送下线通知
    更新句柄
    检测消息列表中是否存在本用户的消息，有就转发
        读取数据库转为json再转为char*


#### 私聊函数(句柄，json，mysql)：
    检测json.toName是否在在线列表
        在：
        获取其句柄，直接将json转发给该句柄
        不在：
        将消息存入消息列表


### 好友申请

#### 私聊函数中
    添加判断：
    判断好友关系是否为双向
    是：
    获取其句柄，直接将json转发给该句柄
    否：
    向发送方回复一条系统消息：您与对方未确立好友关系

#### 好友申请函数
    向乙方发送一条系统消息
        ："发送方"想要与您成为好友，是否接受，是回复Y，拒绝回复其他